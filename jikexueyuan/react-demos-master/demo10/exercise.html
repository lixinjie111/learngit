<!DOCTYPE html>
<html>
  <head>
    <script src="../build/react.js"></script>
    <script src="../build/react-dom.js"></script>
    <script src="../build/browser.min.js"></script>
  </head>
  <body>
    <div id="example"></div>
    <script type="text/babel">
    /*组件的生命周期分三个状态：
      1.Mounting:已插入真实DOM
      2.updating：正在被重新渲染
      3.UnMounting：已移出真实DOM、
      三种状态共计5种处理函数。
      componentWillMount()
      componentDidMount()
      componentWillUpdate(object nextProps,object nextState)
      componentDidUpdate(object prevProps,object prevState)
      componentWillUnmount();
      此外还提供两种特殊处理函数。
      componentWillReceiveProps(object nextProps):已加载组件收到新的参数时调用
      shouldComponentUpdate(object nextProps,object nextState):组件判断是否重新渲染时调用*/
    var Hello=React.createClass({
      getInitialState:function(){
        return {opacity:1.0};
      },
      componentDidMount:function(){
        this.timer=setInterval(function(){
          var opacity=this.state.opacity;
          opacity-=0.05;
          if(opacity<0.1){
            opacity=1.0;
          };
          this.setState({opacity:opacity})
        }.bind(this),100)
      },
      render:function(){
        return (
                <div style={{opacity:this.state.opacity}}>
                 hello{this.props.name}
                </div>
        )
      }
    });
    ReactDOM.render(
            <Hello name="linda"/>,
            document.getElementById("example")
    );



    </script>
  </body>
</html>
